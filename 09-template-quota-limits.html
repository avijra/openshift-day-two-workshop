<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.18">
<title>Project Request Template, Quotas, Limits</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article">
<div id="header">
</div>
<div id="content">
<div class="sect1">
<h2 id="_project_request_template_quotas_limits">Project Request Template, Quotas, Limits</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In the Application Management Basics lab, you dealt with the fundamental
building blocks of OpenShift, all contained within a <strong>Project</strong>.</p>
</div>
<div class="paragraph">
<p>Out of the box, OpenShift does not restrict the quantity of objects or amount of
resources (eg: CPU, memory) that they can consume within a <strong>Project</strong>. Further,
users may create an unlimited number of <strong>Projects</strong>. In a world with no
constraints, or in a POC-type environment, that would be fine. But reality calls
for a little restraint.</p>
</div>
<div class="sect2">
<h3 id="_background_project_request_template">Background: Project Request Template</h3>
<div class="paragraph">
<p>When users invoke the <code>oc new-project</code> command, a new project request flow is
initiated. During part of this this workflow, a default project <strong>Template</strong> is
processed to create the newly requested project.</p>
</div>
<div class="sect3">
<h4 id="_view_the_default_project_request_template">View the Default Project Request Template</h4>
<div class="paragraph">
<p>To view the built-in default <strong>Project Request Template</strong>, execute the
following command:</p>
</div>
<div class="listingblock execute">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">oc adm create-bootstrap-project-template -o yaml</code></pre>
</div>
</div>
<div class="paragraph">
<p>Inspecting the the YAML output of this command, you will notice that there are
various parameters associated with this <strong>Template</strong> displayed towards the bottom.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">...
parameters:
- name: PROJECT_NAME
- name: PROJECT_DISPLAYNAME
- name: PROJECT_DESCRIPTION
- name: PROJECT_ADMIN_USER
- name: PROJECT_REQUESTING_USER
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>Next, let&#8217;s take a look at the help output for the <code>oc new-project</code> command:</p>
</div>
<div class="listingblock execute">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">oc new-project -h</code></pre>
</div>
</div>
<div class="paragraph">
<p>Notice there is a <code>--display-name</code> directive on <code>oc new-project</code>? This option
corresponds to the <code>PROJECT_DISPLAYNAME</code> parameter we saw in the output of
the default <strong>Template</strong>.</p>
</div>
<div class="paragraph">
<p>The <code>new-project</code> workflow involves the user providing information to fulfill the
project request. OpenShift decides if this request should be allowed (for
example, are users allowed to create <strong>Projects</strong>? Does this user have too many
<strong>Projects</strong>?) and, if so, processes the <strong>Template</strong>.</p>
</div>
<div class="paragraph">
<p>If you look at the objects defined in the <strong>Template</strong>, you will notice that
there&#8217;s no mention of quota or limits. You&#8217;ll change that now.</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p><strong>Templates</strong> are a powerful tool that enable the user to easily create reusable
sets of OpenShift objects with powerful parameterization. They can be used to
quickly deploy more complicated and related components into OpenShift, and can be a
useful part of your organization&#8217;s software development lifecycle (SDLC). More
information can be found in the
<a href="https://docs.openshift.com/container-platform/4.10/openshift_images/using-templates.html" target="_blank" rel="noopener">template documentation</a>.
We will not go into detail on <strong>Templates</strong> in this lab.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_modify_the_project_request_template">Modify the Project Request Template</h4>
<div class="paragraph">
<p>You won&#8217;t actually have to make template changes in this lab&#8201;&#8212;&#8201;we&#8217;ve made them
for you already. Use <code>cat</code>, <code>less</code>, or your favorite editor to view the modified
<strong>Project Request Template</strong>:</p>
</div>
<div class="listingblock execute">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">cat support/project_request_template.yaml</code></pre>
</div>
</div>
<div class="paragraph">
<p>Please take note that there are two new sections added: <strong>ResourceQuota</strong> and
<strong>LimitRange</strong>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_background_resourcequota">Background: ResourceQuota</h3>
<div class="paragraph">
<p>The
<a href="https://docs.openshift.com/container-platform/4.9/applications/quotas/quotas-setting-per-project.html" target="_blank" rel="noopener">quota documentation</a>
provides a great description of <strong>ResourceQuota</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>A resource quota, defined by a *ResourceQuota* object, provides constraints
that limit aggregate resource consumption per project. It can limit the
quantity of objects that can be created in a project by type, as well as
the total amount of compute resources and storage that may be consumed
by resources in that project.</pre>
</div>
</div>
<div class="paragraph">
<p>In our case, we are setting a specific set of quota for CPU, memory, storage,
volume claims, and <strong>Pods</strong>. Take a look at the <code>ResourceQuota</code> section from the
<code>project_request_template.yaml</code> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">- apiVersion: v1
  kind: ResourceQuota
  metadata:
    name: ${PROJECT_NAME}-quota <b class="conum">(1)</b>
  spec:
    hard:
      pods: 10 <b class="conum">(2)</b>
      requests.cpu: 4000m <b class="conum">(3)</b>
      requests.memory: 8Gi <b class="conum">(4)</b>
      resourcequotas: 1
      requests.storage: 50Gi <b class="conum">(5)</b>
      persistentvolumeclaims: 5 <b class="conum">(6)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>While only one quota can be defined in a <strong>Project</strong>, it still needs a unique
name/id.</p>
</li>
<li>
<p>The total number of pods in a non-terminal state that can exist in the project.</p>
</li>
<li>
<p>CPUs are measured in "milicores". More information on how
Kubernetes/OpenShift calculates cores can be found in the
<a href="https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/">upstream documentation</a>.</p>
</li>
<li>
<p>There is a system of both <code>limits</code> and <code>requests</code> that we will discuss more
when we get to the <strong>LimitRange</strong> object.</p>
</li>
<li>
<p>Across all persistent volume claims in a project, the sum of storage requested cannot exceed this value.</p>
</li>
<li>
<p>The total number of persistent volume claims in a project.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>For more details on the available quota options, refer back to the
<a href="https://docs.openshift.com/container-platform/4.10/applications/quotas/quotas-setting-per-project.html" target="_blank" rel="noopener">quota
documentation</a></p>
</div>
</div>
<div class="sect2">
<h3 id="_background_limitrange">Background: LimitRange</h3>
<div class="paragraph">
<p>The
<a href="https://docs.openshift.com/container-platform/4.9/nodes/clusters/nodes-cluster-limit-ranges.html" target="_blank" rel="noopener">limit
range documentation</a> provides some good background:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>A limit range, defined by a LimitRange object, enumerates compute resource
constraints in a project at the pod, container, image, image stream, and
persistent volume claim level, and specifies the amount of resources that a pod,
container, image, image stream, or persistent volume claim can consume.</pre>
</div>
</div>
<div class="paragraph">
<p>While the quota sets an upper bound on the total resource consumption within a
project, the <code>LimitRange</code> generally applies to individual resources. For
example, setting how much CPU an individual <strong>Pod</strong> or container can use.</p>
</div>
<div class="paragraph">
<p>Take a look at the sample <code>LimitRange</code> definition that we have provided in the
<code>project_request_template.yaml</code> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">- apiVersion: v1
  kind: LimitRange
  metadata:
    name: ${PROJECT_NAME}-limits
    creationTimestamp: null
  spec:
    limits:
      -
        type: Container
        max: <b class="conum">(1)</b>
          cpu: 4000m
          memory: 1024Mi
        min: <b class="conum">(2)</b>
          cpu: 10m
          memory: 5Mi
        default: <b class="conum">(3)</b>
          cpu: 4000m
          memory: 1024Mi
        defaultRequest: <b class="conum">(4)</b>
          cpu: 100m
          memory: 512Mi</code></pre>
</div>
</div>
<div class="paragraph">
<p>The difference between requests and
default limits is important, and is covered in the
<a href="https://docs.openshift.com/container-platform/4.10/nodes/clusters/nodes-cluster-limit-ranges.html" target="_blank" rel="noopener">limit
range documentation</a>. But, generally speaking:</p>
</div>
<div class="colist arabic">
<ol>
<li>
<p><code>max</code> is the highest value that may be specified for limits and requests</p>
</li>
<li>
<p><code>min</code> is the lowest value that may be specified for limits and requests</p>
</li>
<li>
<p><code>default</code> is the maximum amount (limit) that the container may consume, when
nothing is specified</p>
</li>
<li>
<p><code>defaultRequest</code> is the minimum amount that the container may consume, when
nothing is specified</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>In addition to these topics, there are things like <strong>Quality of Service Tiers</strong>
as well as a <strong>Limit</strong> to <strong>Request</strong> ratio. There is additionally more information in the
<a href="https://docs.openshift.com/container-platform/4.10/nodes/clusters/nodes-cluster-limit-ranges.html" target="_blank" rel="noopener">limit
range documentation</a> section of the documentation.</p>
</div>
<div class="paragraph">
<p>For the sake of brevity, suffice it to say that there is a complex and powerful
system of Quality of Service and resource management in OpenShift. Understanding
the types of workloads that will be run in your cluster will be important to
coming up with sensible values for all of these settings.</p>
</div>
<div class="paragraph">
<p>The settings we provide for you in these examples generally restrict projects to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A total CPU quota of 4 cores (<code>4000m</code>) where</p>
<div class="ulist">
<ul>
<li>
<p>Individual containers</p>
<div class="ulist">
<ul>
<li>
<p>must use 4 cores or less</p>
</li>
<li>
<p>cannot be defined with less than 10 milicores</p>
</li>
<li>
<p>will default to a request of 100 milicores (if not specified)</p>
</li>
<li>
<p>may burst up to a limit of 4 cores (if not specified)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>A total memory usage of 8 Gibibyte (8192 Megabytes) where</p>
<div class="ulist">
<ul>
<li>
<p>Individual containers</p>
<div class="ulist">
<ul>
<li>
<p>must use 1 Gi or less</p>
</li>
<li>
<p>cannot be defined with less than 5 Mi</p>
</li>
<li>
<p>will default to a request of 512 Mi</p>
</li>
<li>
<p>may burst up to a limit of 1024 Mi</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Total storage claims of 25 Gi or less</p>
</li>
<li>
<p>A total number of 5 volume claims</p>
</li>
<li>
<p>10 or less <strong>Pods</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In combination with quota, you can create very fine-grained controls, even
across projects, for how users are allowed to request and utilize OpenShift&#8217;s
various resources.</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>Remember that quotas and limits are applied at the <strong>Project</strong> level. <strong>Users</strong>
may have access to multiple <strong>Projects</strong>, but quotas and limits do not apply
directly to <strong>Users</strong>. If you want to apply one quota across multiple <strong>Projects</strong>,
then you should look at the
<a href="https://docs.openshift.com/container-platform/4.10/applications/quotas/quotas-setting-across-multiple-projects.html" target="_blank" rel="noopener">multi-project
quota</a> documentation. We will not cover multi-project quota in these exercises.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_installing_the_project_request_template">Installing the Project Request Template</h3>
<div class="paragraph">
<p>With this background in place, let&#8217;s go ahead and actually tell OpenShift to
use this new <strong>Project Request Template</strong>.</p>
</div>
<div class="sect3">
<h4 id="_create_the_template">Create the Template</h4>
<div class="paragraph">
<p>As we discussed earlier, a <strong>Template</strong> is just another type of OpenShift object.
The <code>oc</code> command provides a <code>create</code> function that will take YAML/JSON as input
and simply instantiate the objects provided.</p>
</div>
<div class="paragraph">
<p>Go ahead and execute the following:</p>
</div>
<div class="listingblock execute">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">oc create -f support/project_request_template.yaml -n openshift-config</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will create the <strong>Template</strong> object in the <code>openshift-config</code> <strong>Project</strong>.
You can now see the <strong>Templates</strong> in the <code>openshift-config</code> project with the
following:</p>
</div>
<div class="listingblock execute">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">oc get template -n openshift-config</code></pre>
</div>
</div>
<div class="paragraph">
<p>You will see something like the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>NAME              DESCRIPTION   PARAMETERS    OBJECTS
project-request                 5 (5 blank)   7</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_setting_the_default_projectrequesttemplate">Setting the Default ProjectRequestTemplate</h4>
<div class="paragraph">
<p>The default <strong>projectRequestTemplate</strong> is part of the OpenShift API Server
configuration. This configuration is ultimately stored in a <strong>ConfigMap</strong> in
the <code>openshift-apiserver</code> project. You can view the API Server configuration
with the following command:</p>
</div>
<div class="listingblock execute">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">oc get cm config -n openshift-apiserver -o jsonpath --template="{.data.config\.yaml}" | jq  .projectConfig</code></pre>
</div>
</div>
<div class="paragraph">
<p>There is an OpenShift operator that looks at various <strong>CustomResource</strong> (CR)
instances and ensures that the configurations they define are implemented in
the cluster. In other words, the operator is ultimately responsible for
creating/modifying the <strong>ConfigMap</strong>. You can see in the <code>jq</code> output that there
is a <code>projectRequestMessage</code> but no <code>projectRequestTemplate</code> defined. There
is currently no CR specifying anything, so the operator has configured the
cluster with the "stock" settings. To add the default project request
tempalate configuration, a CR needs to be created. The
<strong>CustomResource</strong> will look like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">apiVersion: "config.openshift.io/v1"
kind: "Project"
metadata:
  name: "cluster"
  namespace: ""
spec:
  projectRequestMessage: ""
  projectRequestTemplate:
    name: "project-request"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Notice the <strong>projectRequestTemplate</strong> name matches the name of the template we
created earlier in the <code>openshift-config</code> project.</p>
</div>
<div class="paragraph">
<p>The next step is to create this <strong>CustomResource</strong>. Once this <strong>CR</strong> is created,
the OpenShift operator will notice the <strong>CR</strong>, and apply the configuration
changes. To create the <strong>CustomResource</strong>, issue this command:</p>
</div>
<div class="listingblock execute">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">oc apply -f support/cr_project_request.yaml -n openshift-config</code></pre>
</div>
</div>
<div class="paragraph">
<p>Once this command is run, the OpenShift API Server configurations will be
updated by the operator. This takes some time. You can monitor the rollout
by waiting for the <code>apiserver</code> <strong>Deployment</strong> to finish:</p>
</div>
<div class="listingblock execute">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">sleep 30
oc rollout status deploy apiserver -n openshift-apiserver</code></pre>
</div>
</div>
<div class="paragraph">
<p>This can now be verified by viewing the implemented
configuration:</p>
</div>
<div class="listingblock execute">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">oc get cm config -n openshift-apiserver -o jsonpath --template="{.data.config\.yaml}" | jq</code></pre>
</div>
</div>
<div class="paragraph">
<p>Notice the new <strong>projectConfig</strong> section:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">...
  "kind": "OpenShiftAPIServerConfig",
  "projectConfig": {
    "projectRequestMessage": "",
    "projectRequestTemplate": "openshift-config/project-request"
  },
...</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_create_a_new_project">Create a New Project</h4>
<div class="paragraph">
<p>When creating a new project, you should see that a <strong>Quota</strong> and a <strong>LimitRange</strong>
are created with it. First, create a new project called <code>template-test</code>:</p>
</div>
<div class="listingblock execute">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">oc new-project template-test</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then, use <code>describe</code> to look at some of this <strong>Project&#8217;s</strong> details:</p>
</div>
<div class="listingblock execute">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">oc describe project template-test</code></pre>
</div>
</div>
<div class="paragraph">
<p>The output will look something like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Name:           template-test
Created:        5 seconds ago
Labels:         kubernetes.io/metadata.name=template-test
Annotations:    openshift.io/description=
                openshift.io/display-name=
                openshift.io/requester=admin
                openshift.io/sa.scc.mcs=s0:c27,c4
                openshift.io/sa.scc.supplemental-groups=1000710000/10000
                openshift.io/sa.scc.uid-range=1000710000/10000
Display Name:   &lt;none&gt;
Description:    &lt;none&gt;
Status:         Active
Node Selector:  &lt;none&gt;
Quota:
        Name:                   template-test-quota
        Resource                Used    Hard
        --------                ----    ----
        persistentvolumeclaims  0       5
        pods                    0       10
        requests.cpu            0       4
        requests.memory         0       8Gi
        requests.storage        0       50Gi
        resourcequotas          1       1
Resource limits:
        Name:           template-test-limits
        Type            Resource        Min     Max     Default Request Default Limit    Max Limit/Request Ratio
        ----            --------        ---     ---     --------------- -------------    -----------------------
        Container       memory          5Mi     1Gi     512Mi           1Gi              -
        Container       cpu             10m     4       100m            4                -</pre>
</div>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>If you don&#8217;t see the Quota and Resource limits sections, you may have been
too quick. Remember that the operator takes a moment to do everything it
needs to, so it&#8217;s possible you created your project before the masters picked
up the new configs. Go ahead and <code>oc delete project template-test</code> and then
re-create it after a few moments.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>You can also see that the <strong>Quota</strong> and <strong>LimitRange</strong> objects were created:</p>
</div>
<div class="listingblock execute">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">oc describe quota -n template-test</code></pre>
</div>
</div>
<div class="paragraph">
<p>You will see:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Name:                   template-test-quota
Namespace:              template-test
Resource                Used  Hard
--------                ----  ----
persistentvolumeclaims  0     5
pods                    0     10
requests.cpu            0     4
requests.memory         0     8Gi
requests.storage        0     50Gi
resourcequotas          1     1</pre>
</div>
</div>
<div class="paragraph">
<p>And:</p>
</div>
<div class="listingblock execute">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">oc get limitrange -n template-test</code></pre>
</div>
</div>
<div class="paragraph">
<p>You will see:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>NAME                   CREATED AT
template-test-limits   2020-12-16T00:16:39Z</pre>
</div>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>Please make sure that the <code>project-request</code> template is created in the
<code>openshift-config</code> project. Defining it in the OpenShift API server
configurion without having the template in place will cause new projects to
fail to create.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_clean_up">Clean Up</h3>
<div class="paragraph">
<p>If you wish, you can deploy the application from the Application Management
Basics lab again inside this <code>template-test</code> project to observe how the <strong>Quota</strong>
and <strong>LimitRange</strong> are applied. If you do, be sure to look at the JSON/YAML output
(<code>oc get &#8230;&#8203; -o yaml</code>) for things like the <strong>Deployment</strong> and the <strong>Pod</strong>.</p>
</div>
<div class="paragraph">
<p>Before you continue, you may wish to delete the <strong>Project</strong> you just created:</p>
</div>
<div class="listingblock execute">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">oc delete project template-test
oc delete -f support/project_request_template.yaml -n openshift-config
cat &lt;&lt;EOF | oc apply -f -
apiVersion: "config.openshift.io/v1"
kind: "Project"
metadata:
  name: "cluster"
  namespace: ""
spec:
  projectRequestMessage: ""
  projectRequestTemplate:
    name: ""
EOF
sleep 30
oc rollout status deploy apiserver -n openshift-apiserver</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2023-01-10 13:02:25 +0800
</div>
</div>
</body>
</html>